<div class="heading">
  <h3>
    Filters
    <span class="btn btn-default btn-light"
          ng-click="securityGroupFilters.clearFilters()">Clear All</span>
  </h3>
  <filter-section heading="Search" expanded="true" help-key="securityGroup.search">
    <form class="form-horizontal" role="form">
      <div class="form-group nav-search">
        <input type="search" class="form-control input-sm" ng-model="sortFilter.filter"
               ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 300, 'blur': 0 } }"
               ng-change="securityGroupFilters.updateSecurityGroups()" style="width: 85%; display: inline-block">
      </div>
    </form>
  </filter-section>
</div>
<div class="content" ng-if="application.securityGroups.loaded">

  <filter-section heading="Provider" expanded="true" ng-if="securityGroupFilters.providerTypeHeadings.length > 1">
    <div class="checkbox" ng-repeat="heading in securityGroupFilters.providerTypeHeadings | orderBy: 'toString()'">
      <label>
        <input type="checkbox" ng-model="sortFilter.providerType[heading]"
               ng-change="securityGroupFilters.updateSecurityGroups()"/>
        <cloud-provider-logo provider="heading" height="14px" width="14px"></cloud-provider-logo>
        <cloud-provider-label provider="heading"></cloud-provider-label>
      </label>
    </div>
  </filter-section>

  <filter-section heading="Account" expanded="true">
    <div class="checkbox" ng-repeat="heading in securityGroupFilters.accountHeadings | orderBy:'toString()'  ">
      <label>
        <input type="checkbox" ng-model="sortFilter.account[heading]"
               ng-change="securityGroupFilters.updateSecurityGroups()"/>{{heading}}
      </label>
    </div>
  </filter-section>

  <filter-section heading="Region" expanded="true">
    <div class="checkbox" ng-repeat="heading in securityGroupFilters.regionHeadings | orderBy: 'toString()' ">
      <label>
        <input type="checkbox" ng-model="sortFilter.region[heading]" ng-change="securityGroupFilters.updateSecurityGroups()"/>{{heading}}
      </label>
    </div>
  </filter-section>

  <filter-section heading="Stack" expanded="true">
    <div class="checkbox" ng-repeat="heading in securityGroupFilters.stackHeadings | orderBy: 'toString()' ">
      <label>
        <input type="checkbox" ng-model="sortFilter.stack[heading]" ng-change="securityGroupFilters.updateSecurityGroups()"/>{{heading}}
      </label>
    </div>
  </filter-section>

</div>
